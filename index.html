<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="خرید و فروش اندیکاتور سوپرترند، اکسپرت سوپرترند، اکسپرت فارکس فیوری، اکسپرت فیوری، اکسپرت سودآور، اکسپرت پرسود، برنامه متاتریدر، برنامه نویسی ام کیو ال 5، mq5، mq4، metatrader5، forex fury، super trend، forexfury، supertrend، ربات معاملاتی با سود عالی برای فارکس.">
    <meta name="keywords" content="اکسپرت, اندیکاتور, سوپرترند, اکسپرت سوپرترند, اکسپرت فارکس فیوری, اکسپرت فیوری, اکسپرت سودآور, اکسپرت پرسود, برنامه متاتریدر, برنامه نویسی ام کیو ال 5, mq5, mq4, metatrader5, forex fury, super trend, forexfury, supertrend, ربات معاملاتی">
    <title>فروش محصولات SuperTrend برای MT5</title>
    <link rel="icon" type="image/x-icon" href="/logo.ico">
    <style>
        /* Mobile-first CSS */
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #FFFFFF;
            color: #333;
            min-height: 100vh;
            direction: rtl;
            text-align: right;
        }

        /* Language switcher - خیلی کوچک‌تر، عرض بر اساس دو کاراکتر */
        .lang-switcher {
            position: fixed;
            top: 10px;
            right: 10px;
            z-index: 1000;
            background: #4CAF50;
            color: white;
            border: none;
            padding: 5px 8px; /* کوچک‌تر: قبلاً 4px 6px */
            border-radius: 8px; /* کوچک‌تر */
            cursor: pointer;
            font-size: 12px; /* کوچک‌تر: قبلاً 11px */
            max-width: 40px;
            margin: 20px auto;
            text-align: center;
        }

        .lang-switcher:hover {
            background: #45a049;
        }

        header {
            background: url('/bull-bear.jpg') no-repeat center center/cover;
            height: 170px;
            position: relative;
            text-align: center;
            padding-top: 50px;
            color: #fff;
        }

        header h1 {
            font-size: 1.5em;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
            margin: 0;
            color: #4CAF50;
        }

        header p {
            font-size: 1.2em;
            text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.7);
            color: #FFC107;
            margin: 10px 15px;
        }

        .container {
            max-width: 100%;
            margin: 10px auto;
            padding: 10px;
            background: #FFFFFF;
            border-radius: 10px;
            box-sizing: border-box;
            text-align: center;
        }

        .product {
            background: #f9f9f9;
            padding: 15px;
            margin: 10px 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #ddd;
        }

        form {
            margin: 15px;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 8px;
            border: 1px solid #ddd;
            display: none;
            flex-direction: column;
            gap: 10px;
        }

        #paymentForm, #resetForm {
            display: none;
        }

        input, select, button {
            padding: 10px;
            margin: 5px 0;
            width: 100%;
            max-width: 100%;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 5px;
            font-size: 16px;
        }

        button {
            background: #4CAF50;
            color: white;
            cursor: pointer;
            border: none;
            border-radius: 5px;
        }

        button:hover {
            background: #45a049;
        }

        .container button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #0066cc;
            color: white;
            border: none;
            border-radius: 5px;
        }

        img {
            max-width: 100%;
            height: auto;
            border-radius: 5px;
            display: block;
            margin: 10px auto;
        }

        #result {
            margin: 10px 15px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        h2, h3, p, a {
            text-align: center;
            margin: 10px auto;
        }

        h2 {
            line-height: 1.5;
        }

        p {
            line-height: 1.5;
        }

        a {
            line-height: 1.8;
            display: block;
            color: #0066cc;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        #copyText {
            cursor: pointer;
            border: 1px solid #ccc;
            padding: 10px;
            margin: 10px auto;
            border-radius: 5px;
            width: fit-content;
        }

        footer {
            background-color: #f9fafb;
            padding: 15px 20px;
            text-align: center;
            border-top: 1px solid #e5e7eb;
            box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
            font-family: 'Arial', sans-serif;
            font-size: 14px;
            color: #374151;
            margin-top: 20px;
            width: 100%;
            box-sizing: border-box;
        }

        .footer-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: center;
            align-items: center;
            white-space: nowrap; /* جلوگیری از انتقال به خط بعدی */
        }

        footer p {
            margin: 0;
            display: inline-flex;
            align-items: center;
            flex-wrap: nowrap; /* اطمینان از یک خط ماندن */
        }

        footer a {
            color: #1d4ed8;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        footer a:hover {
            color: #1e40af;
            text-decoration: underline;
        }

        .separator {
            margin: 0 10px;
            color: #9ca3af;
        }

        /* تنظیمات برای موبایل */
        @media (max-width: 600px) {
            footer {
                font-size: 12px; /* کاهش اندازه فونت در موبایل */
                padding: 10px 15px;
            }

            .footer-container {
                flex-wrap: nowrap; /* جلوگیری از شکستن خط در موبایل */
            }

            .separator {
                margin: 0 5px; /* کاهش فاصله جداکننده‌ها در موبایل */
            }
        }        .separator {
            margin: 0 10px;
            color: #9ca3af;
        }
        /* Remove fixed margins and relative positioning for responsiveness */
        .margin-right, .margin-left, .relative-right, .relative-left, .transform-right, .transform-left {
            margin-right: 0;
            margin-left: 0;
            position: static;
            transform: none;
        }

        /* Media Queries for larger screens */
        @media (min-width: 768px) {
            header {
                height: 300px;
                padding-top: 120px;
            }

            header h1 {
                font-size: 2.5em;
            }

            header p {
                font-size: 3em;
            }

            .container {
                max-width: 750px;
                padding: 20px;
            }

            .product {
                margin: 10px auto;
                max-width: 600px;
            }

            form {
                max-width: 500px;
                margin: 20px auto;
            }

            input, select, button {
                max-width: 300px;
                font-size: 18px;
            }
        }

        @media (min-width: 1024px) {
            .container {
                max-width: 1200px;
            }

            header h1 {
                font-size: 2em;
            }

            header p {
                font-size: 2em;
            }
        }
 .download-button {
            display: inline-block;
            padding: 10px 20px;
            margin: 10px;
            background-color: #1d4ed8;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            font-family: 'Arial', sans-serif;
            font-size: 14px;
            transition: background-color 0.3s ease;
        }

        .download-button:hover {
            background-color: #1e40af;
        }

        /* استایل برای ویدیوها */
        .video-container {
            max-width: 100%;
            margin: 20px auto;
            padding: 10px;
            text-align: center;
        }

        video {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        /* استایل جدید برای بزرگ کردن ویدیو و تصاویر */
        .preview {
            cursor: pointer;
            max-width: 300px; /* اندازه کوچک برای پیش‌نمایش */
            margin: 10px;
        }

        .image-preview {
            max-height: 200px; /* ارتفاع کوچک برای تصاویر */
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .video-preview {
            max-height: 200px; /* ارتفاع کوچک برای ویدیوها */
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .images-container, .videos-container {
            display: flex;
            justify-content: center;
            gap: 20px; /* فاصله زیبا بین دو آیتم */
            flex-wrap: wrap;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
            padding-top: 60px;
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }

        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        /* کپشن زیر تصاویر و ویدیوها */
        .caption {
            font-size: 14px;
            margin-top: 5px;
            color: #555;
            text-align: center;
        }

        /* استایل‌های جدید برای فرم تماس با ما - جمع و جورتر */
        #contact-container {
            max-width: 400px; /* عرض کمتر */
            margin: 20px auto;
            padding: 15px;
            background: #f9f9f9;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            text-align: right;
        }

        #contact-container h2 {
            color: #4CAF50;
            font-size: 1.5em;
            margin-bottom: 15px;
            text-align: center;
        }

        #contactForm {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        #contactForm label {
            font-weight: bold;
            color: #333;
            display: inline-block;
            width: 60px; /* عرض ثابت برای label */
            text-align: right;
        }

        #contactForm input,
        #contactForm textarea {
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            background-color: #fff;
            transition: border-color 0.3s ease;
            direction: rtl;
            flex: 1;
        }

        .form-row {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-row textarea {
            min-height: 80px; /* کوچک‌تر */
            resize: vertical;
            direction: rtl;
        }

        #contactForm input:focus,
        #contactForm textarea:focus {
            border-color: #4CAF50;
            outline: none;
        }

        #contactForm button {
            padding: 10px;
            background-color: #0066cc;
            color: white;
            font-size: 14px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
            align-self: center;
            width: 100px; /* کوچک‌تر */
        }

        #contactForm button:hover {
            background-color: #0052a3;
        }

        #contactForm button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        /* Toast notification */
        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            min-width: 250px;
            padding: 12px 16px;
            border-radius: 5px;
            color: white;
            font-weight: bold;
            z-index: 1001;
            transform: translateX(300px);
            transition: transform 0.3s ease;
        }

        .toast.show {
            transform: translateX(0);
        }

        .toast.loading {
            background-color: #FFC107;
        }

        .toast.success {
            background-color: #4CAF50;
        }

        .toast.error {
            background-color: #f44336;
        }
    </style>
</head>
<body>
    <button class="lang-switcher" onclick="toggleLanguage()">EN</button> <!-- Default: FA, button shows EN to switch -->

    <header>
        <h1 class="relative-right" data-fa="METATRADER 5 , MQL5 , MQ5 , EXPERT . INDICATOR" data-en="METATRADER 5 , MQL5 , MQ5 , EXPERT . INDICATOR">METATRADER 5 , MQL5 , MQ5 , EXPERT . INDICATOR</h1>
        <p class="margin-left" data-fa="فروش محصولات اکسپرت واندیکاتور متاتریدر فارکس با سود عالی" data-en="Selling Expert and Indicator Products for MT5 Forex with High Profit">فروش محصولات اکسپرت واندیکاتور متاتریدر فارکس با سود عالی</p>
    </header>

    <div class="container">
        <h1 data-fa="محصولات ما" data-en="Our Products">محصولات ما</h1>

        <button onclick="window.open('/info.pdf', '_blank')" data-fa="info SUPERTREND" data-en="info SUPERTREND">info SUPERTREND</button>
        <button onclick="window.open('/ForexFuryPro.pdf', '_blank')" data-fa="info FOREXFURY" data-en="info FOREXFURY">info FOREXFURY</button>
        <button onclick="window.open('/ReportTester.pdf', '_blank')" data-fa="Riport FOREXFURY" data-en="Report FOREXFURY">Riport FOREXFURY</button>
    </div>

    <div class="product">
        <h3 data-fa="اندیکاتور SuperTrend" data-en="SuperTrend Indicator">اندیکاتور SuperTrend</h3>
        <p data-fa="توضیح: اندیکاتور پیشرفته برای شناسایی روندها در MT5." data-en="Description: Advanced indicator for trend identification in MT5.">توضیح: اندیکاتور پیشرفته برای شناسایی روندها در MT5.</p>
        <p data-fa="قیمت: 15 TRX ترون  روی شبکه TRC_20" data-en="Price: 15 TRX on TRC_20 network">قیمت: 15 TRX ترون  روی شبکه TRC_20</p>
        <h3 data-fa="اکسپرت SuperTrend EA" data-en="SuperTrend EA Expert">اکسپرت SuperTrend EA</h3>
        <p data-fa="قیمت: 200 TRX ترون  روی شبکه TRC_20" data-en="Price: 200 TRX on TRC_20 network">قیمت: 200 TRX ترون  روی شبکه TRC_20</p>
        <p data-fa="توضیح: اکسپرت اتوماتیک بر اساس اندیکاتور SuperTrend با مدیریت ریسک." data-en="Description: Automatic expert based on SuperTrend indicator with risk management.">توضیح: اکسپرت اتوماتیک بر اساس اندیکاتور SuperTrend با مدیریت ریسک.</p>
        <h3 data-fa="اکسپرت ForexFury EA" data-en="ForexFury EA Expert">اکسپرت ForexFury EA</h3>
        <p data-fa="توضیح:اکسپرت اتوماتیک بر اساس تکنیک فارکس فیوری با سود بسیار بالا حتی 200 هزار دلار در سال با دیپوزیت 100 دلار" data-en="Description: Automatic expert based on Forex Fury technique with very high profit, even $200k/year on $100 deposit">توضیح:اکسپرت اتوماتیک بر اساس تکنیک فارکس فیوری با سود بسیار بالا حتی 200 هزار دلار در سال با دیپوزیت 100 دلار</p>
        <p data-fa="قیمت: 500 TRX ترون  روی شبکه TRC_20" data-en="Price: 500 TRX on TRC_20 network">قیمت: 500 TRX ترون  روی شبکه TRC_20</p>
        <button onclick="selectProduct('Indicator_Supertrend')" data-fa="فرم دریافت اطلاعات برای  پرداخت و خرید محصول" data-en="Payment and Purchase Form">فرم دریافت اطلاعات برای  پرداخت و خرید محصول</button>
    </div>

    <form id="paymentForm">
        <h3 data-fa="کادر زیر آدرس ترون ما جهت خرید شماست کلیک کنید آدرس کپی میشود" data-en="Click below to copy our Tron address for purchase">کادر زیر آدرس ترون ما جهت خرید شماست کلیک کنید آدرس کپی میشود</h3>
        <p id="copyText" onclick="copyToClipboard()" data-fa="TLBTbV3cjeR7GJU7321Q42Bjft4ZUDzVca" data-en="TLBTbV3cjeR7GJU7321Q42Bjft4ZUDzVca">TLBTbV3cjeR7GJU7321Q42Bjft4ZUDzVca</p>
        <script>
            function copyToClipboard() {
                var text = document.getElementById('copyText').innerText;
                navigator.clipboard.writeText(text).then(function() {
                    alert(document.querySelector('[data-fa*="کپی"]').textContent || 'Copied!');
                }, function(err) {
                    console.error('خطا در کپی: ', err);
                });
            }
        </script>
        <label data-fa="هش تراکنش (txHash) را که پس از انتقال ارز گرفتید اینجا جاگذاری کنید:" data-en="Enter txHash after transfer:">هش تراکنش (txHash) را که پس از انتقال ارز گرفتید اینجا جاگذاری کنید:</label>
        <input type="text" name="txHash" required><br>
        <label data-fa="محصول:" data-en="Product:">محصول:</label>
        <select name="product" required>
            <option value="Indicator_Supertrend" data-fa="اندیکاتور SuperTrend - 15 TRX" data-en="SuperTrend Indicator - 15 TRX">اندیکاتور SuperTrend - 15 TRX</option>
            <option value="EA_SuperTrend" data-fa="اکسپرت SuperTrend EA - 200 TRX" data-en="SuperTrend EA - 200 TRX">اکسپرت SuperTrend EA - 200 TRX</option>
            <option value="EA_ForexFury" data-fa="اکسپرت ForexFury EA  - 500 TRX" data-en="ForexFury EA - 500 TRX">اکسپرت ForexFury EA  - 500 TRX</option>
        </select><br>
        <label data-fa="شماره اکانت MT5:" data-en="MT5 Account Number:">شماره اکانت MT5:</label>
        <input type="number" name="account" required><br>
        <label data-fa="ایمیل:" data-en="Email:">ایمیل:</label>
        <input type="email" name="email" required><br>
        <button type="submit" data-fa="پس از پرداخت و انتخاب محصول و وارد کردن شماره اکانت کلیک کنید" data-en="Submit After Payment">پس از پرداخت و انتخاب محصول و وارد کردن شماره اکانت کلیک کنید</button>
    </form>
    <div id="result"></div>

    <h2 data-fa="نمودار عملکرد محصولات در محیط بک تست پلتفرم متاتریدر" data-en="Product Performance Charts in MT5 Backtest">نمودار عملکرد محصولات در محیط بک تست پلتفرم متاتریدر</h2>

    <!-- تصاویر در دو کادر کنار هم -->
    <div class="images-container">
        <div>
            <img src="/profit_graph.png" alt="Profit Graph" class="preview image-preview" onclick="openModal('/profit_graph.png')">
            <p class="caption" data-fa="بکتست اکسپرتها" data-en="Expert Backtests">بکتست اکسپرتها</p>
        </div>
        <div>
            <img src="/indicator_chart.png" alt="Indicator Chart" class="preview image-preview" onclick="openModal('/indicator_chart.png')">
            <p class="caption" data-fa="اندیکاتور سوپرترند در چارت" data-en="SuperTrend Indicator on Chart">اندیکاتور سوپرترند در چارت</p>
        </div>
    </div>

    <!-- بخش ویدیوهای پیش‌نمایش زیر تصاویر -->
    <div class="container">
        <h2 data-fa="نمایش ویدیوهای محصولات" data-en="Product Video Demos">نمایش ویدیوهای محصولات</h2>
        <div class="videos-container">
            <div>
                <video src="/supertrend.webm" class="preview video-preview" controls autoplay muted loop poster="" onclick="openVideoModal('/supertrend.webm')">
                    مرورگر شما از ویدیو پشتیبانی نمی‌کند.
                </video>
                <p class="caption" data-fa="اندیکاتور سوپرترند" data-en="SuperTrend Indicator">اندیکاتور سوپرترند</p>
            </div>
            <div>
                <video src="/supertrend_EA.webm" class="preview video-preview" controls autoplay muted loop poster="" onclick="openVideoModal('/supertrend_EA.webm')">
                    مرورگر شما از ویدیو پشتیبانی نمی‌کند.
                </video>
                <p class="caption" data-fa="اکسپرت سوپرترند" data-en="SuperTrend Expert">اکسپرت سوپرترند</p>
            </div>
        </div>
    </div>

    <h2 data-fa="دانلود فایل‌ها" data-en="Download Files">دانلود فایل‌ها</h2>
    <div class="container">
        <a href="/SuperTrend.ex5" download class="download-button" data-fa="Indicator Super Trend" data-en="Indicator Super Trend">Indicator Super Trend</a>
        <a href="/SuperTrend_EA.ex5" download class="download-button" data-fa="Expert Super Trend" data-en="Expert Super Trend">Expert Super Trend</a>
        <a href="/ForexFuryPro.ex5" download class="download-button" data-fa="Expert Forex Fury" data-en="Expert Forex Fury">Expert Forex Fury</a>
    </div>
    <div class="container">
        <button onclick="window.open('https://t.me/Mq5_EA_bot','_blank')" data-fa="ورود به لینک تلگرام برای خرید" data-en="Enter Telegram Link for Purchase">ورود به لینک تلگرام برای خرید</button>
    </div>

    <div class="container">
        <button onclick="openContactModal()" data-fa="تماس با ما" data-en="Contact Us">تماس با ما</button>
    </div>

    <!-- مدال جدید برای تماس با ما -->
    <div id="contactModal" class="modal">
        <span class="close" onclick="closeContactModal()">&times;</span>
        <div id="contact-container">
            <h2 data-fa="تماس با ما" data-en="Contact Us">تماس با ما</h2>
            <p data-fa="برای اطلاعات بیشتر یا سوالات، فرم زیر را پر کنید. ما به زودی پاسخ می‌دهیم. ایمیل ما: click4tell@gmail.com" data-en="For more info or questions, fill the form below. We'll respond soon. Email: click4tell@gmail.com">برای اطلاعات بیشتر یا سوالات، فرم زیر را پر کنید. ما به زودی پاسخ می‌دهیم. ایمیل ما: click4tell@gmail.com</p>
            <form id="contactForm">
                <div class="form-row">
                    <label for="name" data-fa="نام:" data-en="Name:">نام:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-row">
                    <label for="email" data-fa="ایمیل:" data-en="Email:">ایمیل:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-row">
                    <label for="message" data-fa="پیام:" data-en="Message:">پیام:</label>
                    <textarea id="message" name="message" required dir="rtl"></textarea>
                </div>
                <button type="submit" id="submitBtn" data-fa="ارسال پیام" data-en="Send Message">ارسال پیام</button>
            </form>
        </div>
    </div>

    <!-- Modal برای بزرگ کردن تصاویر و ویدیوها -->
    <div id="myModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="imgModal">
        <video class="modal-content" id="videoModal" controls style="display:none;"></video>
    </div>

    <!-- Toast container -->
    <div id="toast"></div>

    <footer>
        <div class="footer-container">
            <p data-fa="© All rights reserved K_M 2025 | info@tsgcoltd.ir" data-en="© All rights reserved K_M 2025 | info@tsgcoltd.ir">© All rights reserved K_M 2025 <span class="separator">|</span> <a href="/cdn-cgi/l/email-protection#11383f373e11252236323e3d25357f3823"> <span class="__cf_email__" data-cfemail="046d6a626b44707763676b6870602a6d76">[email&#160;protected]</span>  </a> <span></p>
        </div>
    </footer>

    <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script>
    <script>
        let currentLang = 'fa'; // Default: Persian
        const WORKER_URL = currentLang === 'fa' ? 'https://mq5.click4tell.workers.dev' : 'https://supertrend.click4tell.workers.dev';

        // Language data
        const translations = {
            fa: {
                title: "فروش اندیکاتور و اکسپرت SuperTrend",
                // Add more as needed, but since most are data- attributes, handled below
            },
            en: {
                title: "Selling SuperTrend Indicators and Experts",
            }
        };

        // Update texts based on language
        function updateLanguage(lang) {
            currentLang = lang;
            document.documentElement.lang = lang;
            document.documentElement.dir = lang === 'fa' ? 'rtl' : 'ltr';
            document.body.style.direction = lang === 'fa' ? 'rtl' : 'ltr';
            document.body.style.textAlign = lang === 'fa' ? 'right' : 'left';

            // Update WORKER_URL
            const newWorkerUrl = lang === 'fa' ? 'https://mq5.click4tell.workers.dev' : 'https://supertrend.click4tell.workers.dev';
            // Reassign if needed, but since it's const, we'll use a variable

            // Update all elements with data-fa and data-en
            document.querySelectorAll('[data-fa]').forEach(el => {
                el.textContent = el.getAttribute(`data-${lang}`);
            });

            // Update title
            document.title = translations[lang].title || document.title;

            // Update lang button
            document.querySelector('.lang-switcher').textContent = lang === 'fa' ? 'EN' : 'FA';
            document.querySelector('.lang-switcher').onclick = () => toggleLanguage();

            // Save to localStorage
            localStorage.setItem('lang', lang);

            // Update select options
            document.querySelectorAll('option').forEach(opt => {
                if (opt.hasAttribute(`data-${lang}`)) {
                    opt.textContent = opt.getAttribute(`data-${lang}`);
                }
            });
        }

        function toggleLanguage() {
            const newLang = currentLang === 'fa' ? 'en' : 'fa';
            updateLanguage(newLang);
        }

        // Load saved language
        const savedLang = localStorage.getItem('lang') || 'fa';
        updateLanguage(savedLang);

        // متن متحرک title
        let titleText = currentLang === 'fa' ? "فروش اندیکاتور و اکسپرت SuperTrend" : "Selling SuperTrend Indicators and Experts";
        let titleIndex = 0;
        setInterval(() => {
            document.title = titleText.substring(titleIndex) + titleText.substring(0, titleIndex);
            titleIndex = (titleIndex + 1) % titleText.length;
        }, 200);

        function selectProduct(product) {
            document.querySelector('select[name="product"]').value = product;
            const paymentForm = document.getElementById('paymentForm');
            paymentForm.style.display = 'block';
            paymentForm.scrollIntoView({ behavior: 'smooth' });
        }

        // هندل submit پرداخت
        document.getElementById('paymentForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const workerUrl = currentLang === 'fa' ? 'https://mq5.click4tell.workers.dev' : 'https://supertrend.click4tell.workers.dev';
            try {
                const response = await fetch(`${workerUrl}/process`, {
                    method: 'POST',
                    body: formData
                });
                const result = await response.text();
                document.getElementById('result').innerHTML = result;
            } catch (error) {
                document.getElementById('result').innerHTML = currentLang === 'fa' ? 'خطا: ' + error.message : 'Error: ' + error.message;
            }
        });

        // هندل submit ریست
        document.getElementById('resetForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const formData = new FormData(e.target);
            const workerUrl = currentLang === 'fa' ? 'https://mq5.click4tell.workers.dev' : 'https://supertrend.click4tell.workers.dev';
            try {
                const response = await fetch(`${workerUrl}/reset`, {
                    method: 'POST',
                    body: formData
                });
                const result = await response.text();
                alert(result);
            } catch (error) {
                alert(currentLang === 'fa' ? 'خطا: ' + error.message : 'Error: ' + error.message);
            }
        });

        // تابع برای بزرگ کردن تصاویر
        function openModal(src) {
            var modal = document.getElementById("myModal");
            var modalImg = document.getElementById("imgModal");
            var modalVideo = document.getElementById("videoModal");
            modal.style.display = "block";
            modalImg.src = src;
            modalImg.style.display = "block";
            modalVideo.style.display = "none";
        }

        // تابع برای بزرگ کردن ویدیوها
        function openVideoModal(src) {
            var modal = document.getElementById("myModal");
            var modalImg = document.getElementById("imgModal");
            var modalVideo = document.getElementById("videoModal");
            modal.style.display = "block";
            modalVideo.src = src;
            modalVideo.style.display = "block";
            modalImg.style.display = "none";
            modalVideo.play();
        }

        // تابع بستن modal
        function closeModal() {
            var modal = document.getElementById("myModal");
            var modalVideo = document.getElementById("videoModal");
            modal.style.display = "none";
            modalVideo.pause();
            modalVideo.currentTime = 0;
        }

        // تابع باز کردن مدال تماس با ما
        function openContactModal() {
            document.getElementById('contactModal').style.display = 'block';
        }

        // تابع بستن مدال تماس با ما
        function closeContactModal() {
            document.getElementById('contactModal').style.display = 'none';
        }

        // Toast function
        function showToast(message, type) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.className = `toast ${type} show`;
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // هندل submit فرم تماس با ما
        document.getElementById('contactForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const message = document.getElementById('message').value;
            const submitBtn = document.getElementById('submitBtn');
            const workerUrl = currentLang === 'fa' ? 'https://mq5.click4tell.workers.dev' : 'https://supertrend.click4tell.workers.dev';

            // Show loading toast
            showToast(currentLang === 'fa' ? 'در حال ارسال...' : 'Sending...', 'loading');
            submitBtn.disabled = true;

            try {
                const response = await fetch(`${workerUrl}/send-email`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        name: name,
                        email: email,
                        message: message
                    })
                });

                const data = await response.json();

                if (response.ok && data.success) {
                    showToast(currentLang === 'fa' ? 'پیام ارسال شد! به زودی پاسخ می‌دهیم.' : 'Message sent! We\'ll respond soon.', 'success');
                    document.getElementById('contactForm').reset();
                    // Close modal after 2 seconds and redirect to main
                    setTimeout(() => {
                        closeContactModal();
                        // Scroll to top or reload if needed
                        window.scrollTo({ top: 0, behavior: 'smooth' });
                    }, 2000);
                } else {
                    throw new Error(data.error || (currentLang === 'fa' ? 'خطا در ارسال' : 'Send error'));
                }
            } catch (error) {
                showToast((currentLang === 'fa' ? 'خطا: ' : 'Error: ') + error.message + (currentLang === 'fa' ? '. دوباره تلاش کنید.' : '. Try again.'), 'error');
            } finally {
                submitBtn.disabled = false;
            }
        });
    </script>
    <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98548301dc301ee0',t:'MTc1ODkwODA2My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>
